{"ast":null,"code":"import { TipoDocumentoEnum, ExtensaoArquivo } from './contrato.enum';\nexport class ContratoHelper {\n  static obterContratoBase64(url) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n\n      xhr.onload = function () {\n        const reader = new FileReader();\n\n        reader.onloadend = () => {\n          resolve(String(reader.result));\n        };\n\n        reader.readAsDataURL(xhr.response);\n      };\n\n      xhr.onerror = error => {\n        reject(error);\n      };\n\n      xhr.open('GET', url);\n      xhr.responseType = 'blob';\n      xhr.send();\n    });\n  }\n\n  static obterNomeArquivo(nome, tipoDocumento) {\n    nome = nome ? nome : 'contrato';\n    const timestamp = new Date().getTime();\n    return ContratoHelper.removerCaracteresEspeciais(nome) + '_' + timestamp + '.' + ContratoHelper.obterExtensaoArquivo(tipoDocumento);\n  }\n\n  static obterExtensaoArquivo(tipoDocumento) {\n    switch (tipoDocumento) {\n      case TipoDocumentoEnum.MODELO:\n        return ExtensaoArquivo.MODELO;\n\n      case TipoDocumentoEnum.UPLOAD:\n        return ExtensaoArquivo.UPLOAD;\n\n      default:\n        return ExtensaoArquivo.UPLOAD;\n    }\n  }\n\n  static removerCaracteresEspeciais(nome) {\n    let nomeSemCaracteresEspeciais = nome;\n    nomeSemCaracteresEspeciais = ContratoHelper.removerAcentos(nomeSemCaracteresEspeciais);\n    nomeSemCaracteresEspeciais = ContratoHelper.converterEspacoParaUnderline(nomeSemCaracteresEspeciais);\n    return nomeSemCaracteresEspeciais.toLocaleUpperCase();\n  }\n\n  static removerAcentos(nome) {\n    const nomeComAcento = nome.split('');\n    let nomeSemAcento = new Array();\n    const tamanhoNome = nomeComAcento.length;\n    const letrasComAcento = 'ÀÁÂÃÄÅàáâãäåÒÓÔÕÕÖØòóôõöøÈÉÊËèéêëðÇçÐÌÍÎÏìíîïÙÚÛÜùúûüÑñŠšŸÿýŽž';\n    const letrasSemAcento = 'AAAAAAaaaaaaOOOOOOOooooooEEEEeeeeeCcDIIIIiiiiUUUUuuuuNnSsYyyZz';\n\n    for (var y = 0; y < tamanhoNome; y++) {\n      if (letrasComAcento.indexOf(nomeComAcento[y]) != -1) {\n        nomeSemAcento[y] = letrasSemAcento.substr(letrasComAcento.indexOf(nomeComAcento[y]), 1);\n      } else {\n        nomeSemAcento[y] = nomeComAcento[y];\n      }\n    }\n\n    nomeSemAcento = nomeSemAcento.join('');\n    return nomeSemAcento;\n  }\n\n  static converterEspacoParaUnderline(nome) {\n    return nome.replace(/ /g, \"_\");\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}